@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=JetBrains+Mono:wght@400;500&display=swap');

*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0c0c0f;--sf:#16161b;--sf2:#1e1e25;--sf3:#26262f;--bd:#2a2a35;--tx:#e8e6f0;--t2:#9896a8;--t3:#5c5a6e;--ac:#a78bfa;--ac2:#7c3aed;--dn:#ef4444;--ok:#22c55e;--r:14px;--rs:10px}
body{background:var(--bg);font-family:'DM Sans',sans-serif;color:var(--tx);-webkit-font-smoothing:antialiased}
.app{max-width:640px;margin:0 auto;min-height:100vh;padding:24px 20px 100px}

.hdr{display:flex;align-items:center;gap:12px;margin-bottom:32px;padding-bottom:20px;border-bottom:1px solid var(--bd)}
.hdr .logo{width:44px;height:44px;background:linear-gradient(135deg,var(--ac),var(--ac2));border-radius:12px;display:flex;align-items:center;justify-content:center;color:white;flex-shrink:0}
.hdr h1{font-size:22px;font-weight:700;letter-spacing:-0.5px} .hdr .sub{font-size:12px;color:var(--t3)}

.bbk{background:none;border:none;color:var(--t2);cursor:pointer;padding:8px;margin:-8px;border-radius:8px;transition:all .15s;display:flex;align-items:center;gap:6px;font-size:14px;font-family:inherit}
.bbk:hover{color:var(--tx);background:var(--sf2)}

.dg{display:flex;flex-direction:column;gap:12px}
.di{background:var(--sf);border:1px solid var(--bd);border-radius:var(--r);padding:20px;cursor:pointer;transition:all .2s;position:relative;overflow:hidden}
.di:hover{border-color:var(--t3);transform:translateY(-1px);box-shadow:0 8px 32px rgba(0,0,0,.3)}
.dn{font-size:17px;font-weight:600;margin-bottom:8px} .dm{display:flex;gap:16px;font-size:13px;color:var(--t2)}
.dub{background:var(--ac2);color:white;font-size:12px;font-weight:600;padding:2px 10px;border-radius:20px;position:absolute;top:20px;right:20px}

.btn{display:inline-flex;align-items:center;gap:8px;padding:12px 20px;border-radius:var(--rs);border:none;font-family:inherit;font-size:14px;font-weight:600;cursor:pointer;transition:all .15s}
.bp{background:linear-gradient(135deg,var(--ac),var(--ac2));color:white} .bp:hover{opacity:.9;transform:translateY(-1px)}
.bs{background:var(--sf2);color:var(--tx);border:1px solid var(--bd)} .bs:hover{border-color:var(--t3)}
.bg{background:none;color:var(--t2);padding:8px 12px} .bg:hover{color:var(--tx);background:var(--sf2)}
.bd{color:var(--dn)} .btn-sm{padding:8px 14px;font-size:13px} .btn-row{display:flex;gap:8px;flex-wrap:wrap}

.input{width:100%;background:var(--sf);border:1px solid var(--bd);border-radius:var(--rs);color:var(--tx);font-family:inherit;font-size:15px;padding:14px 16px;outline:none;transition:border .15s}
.input:focus{border-color:var(--ac)} .input::placeholder{color:var(--t3)}
.field{margin-bottom:14px} .field label{display:block;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:var(--t3);margin-bottom:8px}

/* Rich Editor */
.re-wrap{border:1px solid var(--bd);border-radius:var(--rs);overflow:hidden;background:var(--sf);transition:border .15s}
.re-wrap:focus-within{border-color:var(--ac)}
.toolbar{display:flex;flex-wrap:wrap;gap:2px;padding:8px;border-bottom:1px solid var(--bd);background:var(--sf2)}
.tb-btn{background:none;border:none;color:var(--t2);cursor:pointer;padding:6px;border-radius:6px;display:flex;align-items:center;justify-content:center;transition:all .12s;min-width:28px;height:28px}
.tb-btn:hover{color:var(--tx);background:var(--sf3)} .tb-sep{width:1px;background:var(--bd);margin:2px 4px;align-self:stretch}
.re-body{min-height:100px;max-height:300px;overflow-y:auto;padding:16px;outline:none;font-size:15px;line-height:1.6;color:var(--tx)}
.re-body:empty::before{content:attr(data-placeholder);color:var(--t3);pointer-events:none}
.re-body img{max-width:100%;border-radius:8px;margin:8px 0;display:block}
.re-body table{width:100%;border-collapse:collapse;margin:8px 0} .re-body th,.re-body td{border:1px solid var(--bd);padding:8px 10px;text-align:left;font-size:13px}
.re-body th{background:var(--sf2);font-weight:600} .re-body blockquote{border-left:3px solid var(--ac);padding:8px 16px;margin:8px 0;color:var(--t2);font-style:italic}
.re-body pre{background:#1a1a24;border:1px solid var(--bd);border-radius:8px;padding:12px;font-family:'JetBrains Mono',monospace;font-size:13px;overflow-x:auto;margin:8px 0}
.re-body h3{font-size:18px;margin:12px 0 4px} .re-body a{color:var(--ac);text-decoration:underline} .re-body hr{border:none;border-top:1px solid var(--bd);margin:12px 0}
.re-body ul,.re-body ol{padding-left:24px;margin:8px 0} .re-body li{margin:4px 0} .re-body mark{background:#a78bfa33;padding:1px 4px;border-radius:3px}

/* Flashcard */
.ccont{perspective:1200px;margin:40px 0 32px}
.fc{width:100%;min-height:300px;position:relative;cursor:pointer;transform-style:preserve-3d;transition:transform .5s cubic-bezier(.4,0,.2,1)}
.fc.flipped{transform:rotateY(180deg)}
.ff{position:absolute;inset:0;backface-visibility:hidden;border-radius:20px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 28px}
.ffr{background:linear-gradient(145deg,var(--sf),var(--sf2));border:1px solid var(--bd)}
.fbk{background:linear-gradient(145deg,#1a1a28,#14142a);border:1px solid var(--ac2);transform:rotateY(180deg)}
.flbl{position:absolute;top:16px;left:20px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:1.5px;color:var(--t3)}
.fhint{position:absolute;bottom:16px;font-size:12px;color:var(--t3)}

.ch{width:100%;text-align:center;font-size:18px;line-height:1.5;overflow-y:auto;max-height:220px}
.ch img{max-width:100%;max-height:180px;border-radius:8px;margin:8px auto;display:block;object-fit:contain}
.ch table{width:100%;border-collapse:collapse;margin:8px 0;text-align:left} .ch th,.ch td{border:1px solid var(--bd);padding:6px 10px;font-size:13px}
.ch th{background:var(--sf2);font-weight:600} .ch blockquote{border-left:3px solid var(--ac);padding:6px 14px;margin:8px 0;color:var(--t2);font-style:italic;text-align:left}
.ch pre{background:#1a1a24;border:1px solid var(--bd);border-radius:8px;padding:10px;font-family:'JetBrains Mono',monospace;font-size:12px;text-align:left;overflow-x:auto}
.ch h3{font-size:20px;margin:8px 0} .ch a{color:var(--ac)} .ch ul,.ch ol{text-align:left;padding-left:24px} .ch mark{background:#a78bfa33;padding:1px 4px;border-radius:3px}
.ch hr{border:none;border-top:1px solid var(--bd);margin:12px 0}
.fbk .ch{color:var(--ac)} .fbk .ch th,.fbk .ch td,.fbk .ch pre{color:var(--tx)} .fbk .ch blockquote{color:var(--t2)}

.abtns{display:grid;grid-template-columns:repeat(5,1fr);gap:8px}
.abtn{display:flex;flex-direction:column;align-items:center;gap:4px;padding:14px 8px;border-radius:var(--rs);border:1px solid var(--bd);background:var(--sf);color:var(--tx);cursor:pointer;font-family:inherit;transition:all .15s}
.abtn:hover{transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,.3)}
.ql{font-size:13px;font-weight:600} .qs{font-size:10px;color:var(--t3);font-family:'JetBrains Mono',monospace} .qk{font-size:10px;color:var(--t3);background:var(--sf3);border-radius:4px;padding:1px 6px;font-family:'JetBrains Mono',monospace}

.pbar{height:4px;background:var(--sf2);border-radius:4px;overflow:hidden;margin-bottom:8px}
.pfill{height:100%;background:linear-gradient(90deg,var(--ac),var(--ac2));border-radius:4px;transition:width .3s}
.ptxt{font-size:12px;color:var(--t3);text-align:right;font-family:'JetBrains Mono',monospace}

.sc{background:var(--sf);border:1px solid var(--bd);border-radius:var(--r);padding:32px;text-align:center;margin:24px 0}
.sbig{font-size:64px;font-weight:700;background:linear-gradient(135deg,var(--ac),var(--ok));-webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:1}
.sgrid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:20px}
.sb{background:var(--sf2);border-radius:var(--rs);padding:16px} .sv{font-size:28px;font-weight:700} .sl{font-size:12px;color:var(--t3);margin-top:4px}

.cli{background:var(--sf);border:1px solid var(--bd);border-radius:var(--rs);padding:14px 16px;margin-bottom:8px;display:flex;align-items:center;gap:12px}
.ct{flex:1;min-width:0;display:flex;align-items:center;gap:6px;overflow:hidden}
.cf{font-weight:600;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.csep{color:var(--t3);flex-shrink:0} .cb{color:var(--t2);font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.cm{font-size:11px;color:var(--ac);background:rgba(167,139,250,.1);padding:1px 8px;border-radius:20px;flex-shrink:0}
.ca{display:flex;gap:4px;flex-shrink:0}
.ib{background:none;border:none;color:var(--t3);cursor:pointer;padding:6px;border-radius:6px;display:flex;align-items:center;justify-content:center;transition:all .15s}
.ib:hover{color:var(--tx);background:var(--sf3)} .ib.danger:hover{color:var(--dn)}

.mo{position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:100;padding:20px}
.modal{background:var(--sf);border:1px solid var(--bd);border-radius:20px;padding:32px;width:100%;max-width:420px} .modal h3{font-size:18px;margin-bottom:20px}

.mm-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:200;padding:20px}
.mm{background:var(--sf);border:1px solid var(--bd);border-radius:16px;padding:24px;width:100%;max-width:380px} .mm h4{font-size:16px;font-weight:700;margin-bottom:12px}
.mhint{font-size:12px;color:var(--t3);margin-bottom:12px;line-height:1.4}

.toast{position:fixed;bottom:32px;left:50%;transform:translateX(-50%);background:var(--ac2);color:white;font-size:14px;font-weight:600;padding:10px 24px;border-radius:50px;z-index:300;animation:ti .3s ease}
@keyframes ti{from{opacity:0;transform:translateX(-50%) translateY(16px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}

.empty{text-align:center;padding:60px 20px;color:var(--t3)} .empty p{margin-top:8px;font-size:14px}
.stitle{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px} .stitle h2{font-size:15px;font-weight:600;color:var(--t2)}
::-webkit-scrollbar{width:6px} ::-webkit-scrollbar-track{background:transparent} ::-webkit-scrollbar-thumb{background:var(--sf3);border-radius:3px}
